<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mycompany.miniproject.dao.OrderDAO">
	
	<select id="getSelectedProduct" parameterType="Cart" resultType="Cart">
		SELECT 
			c.member_id,
			p.product_id,
			c.cart_count,
			p.product_name,
			p.product_price
		FROM
			CART c
		JOIN 
			PRODUCT p
		USING(product_id)
		WHERE
			member_id=#{memberId}
		AND product_id = #{productId}
	
	
	</select>
	
	<select id="selectOrderListByMemberId" resultType="Order">
	 	<![CDATA[
	 		SELECT
        o.ORDER_NUMBER,
        o.ORDER_DATE,
        p.PRODUCT_NAME,
        op.ORDER_PRODUCT_PRICE
    FROM
        "order" o
        LEFT OUTER JOIN ORDER_PRODUCT op ON o.ORDER_NUMBER = op.ORDER_NUMBER
        LEFT OUTER JOIN PRODUCT p ON op.PRODUCT_ID = p.PRODUCT_ID
    WHERE
        o.MEMBER_ID = #{memberId}
           ]]>
     </select>

</mapper>